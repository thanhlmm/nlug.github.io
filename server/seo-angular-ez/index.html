<!DOCTYPE html>
<html lang="vi" prefix="og: http://ogp.me/ns#">
<head>
	<meta charset="UTF-8" />
	<title>SEO Angular? Ez với prerender.io! - Blog của CuThanh</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="pingback" href="/xmlrpc.php" />

	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
		<script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
	<![endif]-->

	<!-- W3TC-include-js-head -->
	
<!-- This site is optimized with the Yoast SEO plugin v4.1 - https://yoast.com/wordpress/plugins/seo/ -->
<link rel="canonical" href="/server/seo-angular-ez" />
<meta property="og:locale" content="vi_VN" />
<meta property="og:type" content="article" />
<meta property="og:title" content="SEO Angular? Ez với prerender.io! - Blog của CuThanh" />
<meta property="og:description" content="Vấn đề Hiện nay thì mặc dù thằng Google đã hỗ trợ Crawl Javascript nhưng theo mình thấy thì vẫn chưa ổn định mấy và Internet rộng lớn lắm, có mình mày hỗ trợ thì tao sống không nổi đâu. Vd như Crawler của Facebook. Các bạn truy cập https://developers.facebook.com/tools/debug/sharing/ Paste link website rồi ấn ..." />
<meta property="og:url" content="http://cuthanh.com/server/seo-angular-ez" />
<meta property="og:site_name" content="Blog của CuThanh" />
<meta property="article:author" content="https://www.facebook.com/hojjlamthenlug" />
<meta property="article:tag" content="angular" />
<meta property="article:tag" content="nginx" />
<meta property="article:tag" content="Prerender" />
<meta property="article:tag" content="SEO" />
<meta property="article:section" content="Server" />
<meta property="article:published_time" content="2016-07-17T08:00:19+00:00" />
<meta property="article:modified_time" content="2016-07-19T12:53:33+00:00" />
<meta property="og:updated_time" content="2016-07-19T12:53:33+00:00" />
<meta property="og:image" content="http://cuthanh.com/wp-content/uploads/2016/07/seoangularfeature.png" />
<meta property="og:image:width" content="1130" />
<meta property="og:image:height" content="539" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:description" content="Vấn đề Hiện nay thì mặc dù thằng Google đã hỗ trợ Crawl Javascript nhưng theo mình thấy thì vẫn chưa ổn định mấy và Internet rộng lớn lắm, có mình mày hỗ trợ thì tao sống không nổi đâu. Vd như Crawler của Facebook. Các bạn truy cập https://developers.facebook.com/tools/debug/sharing/ Paste link website rồi ấn ..." />
<meta name="twitter:title" content="SEO Angular? Ez với prerender.io! - Blog của CuThanh" />
<meta name="twitter:image" content="http://cuthanh.com/wp-content/uploads/2016/07/seoangularfeature.png" />
<!-- / Yoast SEO plugin. -->

<link rel='dns-prefetch' href='' />
<link rel='dns-prefetch' href='//s0.wp.com' />
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Dòng thông tin Blog của CuThanh &raquo;" href="/feed" />
<link rel="alternate" type="application/rss+xml" title="Dòng phản hồi Blog của CuThanh &raquo;" href="/comments/feed" />
<link rel="alternate" type="application/rss+xml" title="Blog của CuThanh &raquo; SEO Angular? Ez với prerender.io! Dòng phản hồi" href="/server/seo-angular-ez/feed" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.3\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/cuthanh.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.8.3"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,56826,8203,55356,56819),0,0),c=j.toDataURL(),b!==c&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55358,56794,8205,9794,65039),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55358,56794,8203,9794,65039),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='contact-form-7-css'  href='/wp-content/plugins/contact-form-7/includes/css/styles.css?ver=4.6' type='text/css' media='all' />
<link rel='stylesheet' id='dw-reaction-style-css'  href='/wp-content/plugins/dw-reactions/assets/css/style.css?ver=120004042016' type='text/css' media='all' />
<link rel='stylesheet' id='estilo-css'  href='/wp-content/plugins/simple-code-highlighter/estilo.css?ver=4.8.3' type='text/css' media='all' />
<link rel='stylesheet' id='readable-google-fonts-css'  href='http://fonts.googleapis.com/css?family=Open+Sans%3A400%2C300%2C700&#038;subset=latin%2Cvietnamese&#038;ver=4.8.3' type='text/css' media='all' />
<link rel='stylesheet' id='main-css'  href='/wp-content/themes/readable/assets/stylesheets/main.css?ver=1.0.0' type='text/css' media='all' />
<style id='main-inline-css' type='text/css'>

/******************
Primary theme color
*******************/

.social__container, .search__container, .search-panel .search-panel__text, .navigation > li.current-menu-item > a, .navigation > li:hover > a, .navigation > li.current-menu-ancestor > a, .widget-contact__title, .navigation .sub-menu > li > a:hover, .error .primary-color {
	color: #05668d}

.social .social__dropdown, ::selection, .navbar-toggle {
	background: #05668d}

.wpcf7-submit, .navigation > li > a:after, .btn-primary {
	background: linear-gradient(to bottom, #05668d, #055c7f)
}

blockquote, .wpcf7-submit, .btn-primary, .navbar-toggle {
	border-color: #05668d}

.search__container:hover, .social__container:hover {
	color: #055c7f}

@media (min-width: 992px) {
	.navigation .sub-menu > li > a {
		background: #05668d	}
}

.wpcf7-submit:hover, .btn-primary:hover, .social .social__dropdown li a:hover {
	background: #055c7f}

@media (min-width: 992px) {
	.navigation .sub-menu > li > a:hover {
		background: #055c7f	}
}

.wpcf7-submit:hover, .navigation .sub-menu > li > a, .navigation .sub-menu, .btn-primary:hover, .social .social__dropdown li .social__container {
	border-color: #055c7f}

/******************
Text color
*******************/

blockquote, .post-content, .post-content--narrow, .post-content--narrow span, body .su-tabs-style-default .su-tabs-pane {
	color: #40454a}

/******************
Link color
*******************/

a, .menu li a, .pptwj .pptwj-tabs-wrap .tab-links li a.selected, .pptwj .pptwj-tabs-wrap .tab-links li a:hover, .pptwj .pptwj-tabs-wrap .boxes ul.tab-filter-list li a:hover, .pptwj .pptwj-tabs-wrap .boxes ul.tab-filter-list li a.selected {
	color: #028090}

.widget_tag_cloud a, .tags a {
	border-color: #028090}

a:hover, .menu li a:hover {
	color: #027382}

.widget_tag_cloud a:hover, .tags a:hover, .pptwj .pptwj-tabs-wrap .boxes ul.tab-filter-list li a.selected:after, .pptwj .pptwj-tabs-wrap .boxes ul.tab-filter-list li a:hover:after {
	background-color: #028090}

/******************
Headings dark
*******************/
h1, h1 a, .h1 a, .h2, h2, h2 a, .h2 a, h4, h4 a, .h4 a, h5, h5 a, .h5 a, .zem_rp_title {
	color: #2f343b}

/******************
Headings light
*******************/
h3, h3 a, .h3 a, h6, h6 a, .h6 a, .wp_rp_excerpt {
	color: #9a9a90}

/******************
Navbar background
*******************/
.header {
	background-color: #ffffff}

/******************
Footer background
*******************/
.footer, .copyrights {
	background-color: #ffffff}

/******************
Navbar text color
*******************/

.navigation > li > a {
	color: #9a9a90}

/******************
Navbar dropdown text color
*******************/

@media (min-width: 992px) {
	.navigation .sub-menu > li > a, .navigation .sub-menu > li > a:hover {
		color: #f3f4f4	}
}

/* WP Customizer end */

/* User Custom CSS */

</style>
<link rel='stylesheet' id='jetpack_css-css'  href='/wp-content/plugins/jetpack/css/jetpack.css?ver=4.5' type='text/css' media='all' />
<script type='text/javascript' src='/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var related_posts_js_options = {"post_heading":"h4"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/jetpack/modules/related-posts/related-posts.js?ver=20150408'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var dw_reaction = {"ajax":"http:\/\/cuthanh.com\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/dw-reactions/assets/js/script.js?ver=120004042016'></script>
<link rel='https://api.w.org/' href='/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.8.3" />
<link rel='shortlink' href='/?p=44' />
<link rel="alternate" type="application/json+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Fserver%2Fseo-angular-ez" />
<link rel="alternate" type="text/xml+oembed" href="/wp-json/oembed/1.0/embed?url=http%3A%2F%2F%2Fserver%2Fseo-angular-ez&#038;format=xml" />
			<meta property="fb:pages" content="1230424850325628" />
			
<link rel='dns-prefetch' href='//v0.wordpress.com'>
<style type='text/css'>img#wpstats{display:none}</style>			<link rel="shortcut icon" href="/wp-content/uploads/2016/07/logo-icon.ico">
		<style type="text/css" id="custom-background-css">
body.custom-background { background-image: url("/wp-content/uploads/2016/07/blurred-home-bg.jpg"); background-position: center top; background-size: auto; background-repeat: repeat; background-attachment: fixed; }
</style>
<link rel="amphtml" href="/server/seo-angular-ez/amp" /><link rel="icon" href="/wp-content/uploads/2016/07/cropped-logo-icon-lg-32x32.png" sizes="32x32" />
<link rel="icon" href="/wp-content/uploads/2016/07/cropped-logo-icon-lg-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon-precomposed" href="/wp-content/uploads/2016/07/cropped-logo-icon-lg-180x180.png" />
<meta name="msapplication-TileImage" content="http://cuthanh.com/wp-content/uploads/2016/07/cropped-logo-icon-lg-270x270.png" />

<!-- BEGIN GADWP v4.9.5 Universal Tracking - https://deconf.com/google-analytics-dashboard-wordpress/ -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-79981031-2', 'auto');
  ga('send', 'pageview');
</script>

<!-- END GADWP Universal Tracking -->

			<style type="text/css" id="wp-custom-css">
				/*
Welcome to Custom CSS!

To learn how this works, see http://wp.me/PEmnE-Bt
*/
.hentry .aligncenter {
	margin: 0 auto;
	display: block;
}

.post-content>p {
	text-align: justify;
	text-indent: 1em;
}			</style>
			<!-- W3TC-include-css -->
</head>

<body class="post-template-default single single-post postid-44 single-format-standard custom-background">
<!-- W3TC-include-js-body-start -->

	<!-- Search - Open panel -->
	<div class="search-panel">
		<div class="container">
			<div class="row">
				<div class="col-xs-12">
					<form action="/">
						<input type="text" class="search-panel__form  js--search-panel-text" name="s" placeholder="Begin typing for search">
						<p class="search-panel__text">Press enter to see results or esc to cancel.</p>
					</form>
				</div>
			</div>
		</div>
	</div>

	<div class="page-content-container"><!-- ends in the footer.php -->
		<!-- header -->
		<header class="header  push-down-45">
			<div class="container">
				<div class="logo  pull-left">
					<a href="/">
													<img src="/wp-content/uploads/2016/07/logo-1.png" alt="Blog của CuThanh" />
											</a>
				</div>

				<!-- Brand and toggle get grouped for better mobile display -->
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#readable-navbar-collapse">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
				</div>
				<nav class="navbar  navbar-default" role="navigation">

					<!-- Collect the nav links, forms, and other content for toggling -->
					<div class="collapse  navbar-collapse" id="readable-navbar-collapse">
						<ul id="menu-my-menu" class="navigation"><li id="menu-item-15" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-15"><a href="/">Trang chủ</a></li>
<li id="menu-item-710" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-710"><a href="/category/technology">Technology</a></li>
<li id="menu-item-711" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-711"><a href="/category/react">React</a></li>
<li id="menu-item-139" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-139"><a href="/category/server">Server</a></li>
<li id="menu-item-140" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-140"><a href="/category/nodejs">NodeJS</a></li>
<li id="menu-item-141" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-141"><a href="/category/startup">Startup</a></li>
<li id="menu-item-136" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-136"><a href="/about">About</a></li>
</ul>					</div><!-- /.navbar-collapse -->
				</nav>
				<div class="hidden-xs  hidden-sm">
					<a href="#" class="search__container  js--toggle-search-mode"> <span class="glyphicon  glyphicon-search"></span>  </a>
										<div class="social">
						<a href="#" class="social__container  js--blank-link"><span class="glyphicon  glyphicon-heart"></span></a>
						<ul class="social__dropdown">
														<li>
								<a href="http://nlug27@gmail.com/" target="_blank" class="social__container"> <span class="zocial-email"></span></a>
							</li>
														<li>
								<a href="https://www.facebook.com/hojjlamthenlug" target="_blank" class="social__container"> <span class="zocial-facebook"></span></a>
							</li>
													</ul>
					</div>
									</div>
			</div>
		</header>
<div class="container">
	<div class="row">
		<div class="col-xs-12" role="main">

			
				<!-- Post with featured image -->
				<article class="boxed push-down-45 post-44 post type-post status-publish format-standard has-post-thumbnail hentry category-server category-web-app tag-angular tag-nginx tag-prerender tag-seo">

					<div class="meta">

			<a href="/server/seo-angular-ez" class="link--no-border"><img width="1130" height="493" src="/wp-content/uploads/2016/07/seoangularfeature-1130x493.png" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="" /></a>
	
	
			<div class="meta__container  clearfix">
				<div class="meta__info">
					<span class="meta__author">
						<img alt='' src='http://0.gravatar.com/avatar/92d8de5bc1aae1250a02b1f37b92751b?s=30&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/92d8de5bc1aae1250a02b1f37b92751b?s=60&amp;d=mm&amp;r=g 2x' class='avatar avatar-30 photo' height='30' width='30' />						<a href="/author/nlug">Minh Thành</a> in <a href="/category/server" rel="category tag">Server</a>, <a href="/category/web-app" rel="category tag">Web App</a>
					</span>
					<time datetime="2016-07-17T08:00:19+00:00" class="meta__date"><a href="/2016/07/17"><span class="glyphicon  glyphicon-calendar"></span> &nbsp; 17/07/2016</a></time>
				</div>
				<div class="meta__comments">
					<a href="/server/seo-angular-ez#comments"><span class="glyphicon  glyphicon-comment"></span>  &nbsp; 2 Comments</a>
				</div>
			</div>

			
</div>


					<!-- Start of the blogpost -->
					<div class="row">
						<div class="col-xs-10  col-xs-offset-1  col-md-8  col-md-offset-2">

							<!-- Start of the content -->
							<div class="post-content">
								<h1 class="post-content__title">
									<a href="/server/seo-angular-ez">SEO Angular? Ez với prerender.io!</a>
								</h1>
								<h1>Vấn đề</h1>
<p>Hiện nay thì mặc dù thằng Google đã hỗ trợ Crawl Javascript nhưng theo mình thấy thì vẫn chưa ổn định mấy và Internet rộng lớn lắm, có mình mày hỗ trợ thì tao sống không nổi đâu. Vd như Crawler của Facebook.</p>
<blockquote><p>Các bạn truy cập <a href="https://developers.facebook.com/tools/debug/sharing/" target="_blank">https://developers.facebook.com/tools/debug/sharing/</a></p>
<p>Paste link website rồi ấn Debug xem coi thằng Facebook nó nhìn web của bạn như thế nào nhé.</p></blockquote>
<p>Theo mình thì SEO quyết định rất rất lớn đến vấn đề của một website nói chung hay web app nói riêng. Vì vậy việc SEO cho webapp bằng Angular thật sự là cực kì cần thiết.</p>
<p>Search vòng vèo trên mạng thì có thể thấy có khá nhiều giải pháp, nhiều quá mính chưa thử nhưng toàn thấy chữ &#8220;3 years ago&#8221; nghĩ chắc sida rồi không sài được nữa.</p>
<p><img class="aligncenter wp-image-47 size-full" src="/wp-content/uploads/2016/07/seoangulargit.png" alt="seoangulargit" width="990" height="451" srcset="/wp-content/uploads/2016/07/seoangulargit.png 990w, /wp-content/uploads/2016/07/seoangulargit-300x137.png 300w, /wp-content/uploads/2016/07/seoangulargit-768x350.png 768w" sizes="(max-width: 990px) 100vw, 990px" /></p>
<p style="text-align: center;"><em>Vd như thằng này https://github.com/hackfanatic/angular-seo</em></p>
<p>Mình sẽ giới thiệu các bạn cấu hình lại app angular của bạn sử dụng <a href="https://prerender.io/" target="_blank">Prerender.io</a> để render html cho tụi crawler</p>
<p><strong>Demo</strong> mà mình đã áp dụng thành công: <a href="http://inboxtui.com/" target="_blank">http://inboxtui.com</a></p>
<h1>Về Prerender.io</h1>
<blockquote><p>Allows your Javascript website to be crawled perfectly by search engines.</p></blockquote>
<p>Nếu bạn tự cài vào VPS của mình thì miễn phí, còn sài qua của nó thì tính phí, mình thấy cũng khả cao. Nên bài này mình hướng dẫn cài trên VPS của chính các bác.</p>
<p>Thằng này thực chất dùng <a href="http://phantomjs.org/" target="_blank">Phantomjs </a>để giả lập trình duyệt web, truy cập vào app angular của chúng ta, đợi nó load xong, lưu lại cây HTML hiện tại rồi trả về cho thằng Crawer.</p>
<p>Vậy sao không sài bà nó thằng <a href="http://phantomjs.org/" target="_blank">Phantomjs </a>cho rồi? Mình check qua thì có vể thằng <a href="https://prerender.io/" target="_blank">Prerender.io</a> này tối ưu hơn cho mấy cái nhu cầu kiều vầy và quan trong hơn là dễ cài đặt :p, tội gì đụng vào Phantomjs làm gì cho mệt đúng không các bác, bác Bill căn dặn vậy rồi mà <img src="/wp-content/uploads/lm-easy-emoticons/emoticons-custom/4496791ae48b92a081a170ec56c63f89.png" alt="" border="0" hspace="5" />.</p>
<div class="su-quote su-quote-style-default su-quote-has-cite"><div class="su-quote-inner su-clearfix">Tôi chọn người lười biếng để làm những việc khó khăn. Bởi một người lười biếng sẽ tìm ra cách dễ dàng để làm việc đó<span class="su-quote-cite">Bill Gate - Sama</span></div></div>
<h1>Cài đặt</h1>
<p>Mình sẽ hướng dẫn các bạn cái trên vps <strong>ubuntu 14.04</strong> dùng <strong>nginx</strong> làm webserver. Các thằng còn lại cũng tương tự, mình sẽ cung cấp tài liệu.</p>
<p>Okey. Mở <a href="/tools/cmder-dem-unix-bash-len-windows" target="_blank">Cmder</a> lên rồi quẩy thôi nào <img src="/wp-content/uploads/lm-easy-emoticons/emoticons-custom/a2b20fedb8f910c6d52ffeb6a30af1b8.png" alt="" border="0" hspace="5" /></p>
<h3>Bước 1: Cài đặt <a href="https://prerender.io/" target="_blank">prerender.io</a></h3>
<p>Đầu tiên là chắc chắn bạn đã cài Nodejs và NPM nhé</p>
<pre class="prettyprint">sudo apt-get update
sudo apt-get install nodejs npm
ln -s /usr/bin/nodejs /usr/bin/node</pre>
<p>Chạy <code>node -v</code> test thử xem đã cài được chưa nhé.</p>
<p>Clone repo của prerender.io</p>
<pre class="prettyprint">git clone https://github.com/prerender/prerender.git
cd prerender
npm install</pre>
<p>Chạy thử</p>
<pre class="prettyprint">node server.js</pre>
<p>Mặc định prerender.io sẽ chạy trên port 3000. Các bác thử vào <code>http://ip_vps:3000/http://dia_chi_app_angular</code> . Check source code thấy toàn html là Ok rồi đấy. Ez đúng không <img src="/wp-content/uploads/lm-easy-emoticons/emoticons-custom/08c695086534a2344954042d153ad8fd.png" alt="" border="0" hspace="5" />.</p>
<p>Ah cái này để chạy tạm thơi test thử thôi. Để server render của mình chạy lâu dài thì các bác sử dụng <code>pm2</code> hay <code>forever</code> nhá.</p>
<h3>Bước 2: Cấu hình lại Angular.</h3>
<p>Thêm đoạn mã sau <strong>ngay đầu tiên trong thẻ head</strong> <code>&lt;base href=”/”&gt;</code> (Trong trước hợp các bác chạy ở ngay đường đẫn gốc, không thì sửa lại cho phù hợp).</p>
<p>Tiếp theo thêm <code>&lt;meta name="fragment" content="!"&gt;</code> vào trong thẻ <strong>head</strong></p>
<p>Thêm dòng này vào angular config <code>$locationProvider.hashPrefix('!');</code></p>
<p>Nếu sài chế độ <code>html5</code>.</p>
<p>Nhớ bật HTML5 mode trong chỗ config angular nhé <code>$locationProvider.html5Mode(true);</code></p>
<p>Nếu sài chế độ mặc định thì thôi để im vậy. Mình khuyên dùng HTML5 Mode, cái này nhìn khá đẹp ^^.</p>
<p>Trong một số trường hợp nếu muốn chắc chắn là render server bắt đụng trạng thái html của app thì các bác nên thiết lập như sau:</p>
<p>Thêm đoạn này vào <code>&lt;script&gt; window.prerenderReady = false; &lt;/script&gt;</code></p>
<p>Sau đó khi nào chắc chắn app đã load xong thì set nó lại thành true <code>window.prerenderReady = true;</code></p>
<h3>Bước 3: Cấu hình nginx để biết đâu là crawler, đâu là người.</h3>
<pre class="prettyprint"># Change YOUR_TOKEN to your prerender token and uncomment that line if you want to cache urls and view crawl stats
# Change example.com (server_name) to your website url
# Change /path/to/your/root to the correct value

server {
    listen 80;
    server_name example.com;
 
    root   /path/to/your/root;
    index  index.html;

    location / {
        try_files $uri @prerender;
    }
 
    location @prerender {
        #proxy_set_header X-Prerender-Token YOUR_TOKEN;
        
        set $prerender 0;
        if ($http_user_agent ~* "baiduspider|twitterbot|facebookexternalhit|rogerbot|linkedinbot|embedly|quora link preview|showyoubot|outbrain|pinterest|slackbot|vkShare|W3C_Validator") {
            set $prerender 1;
        }
        if ($args ~ "_escaped_fragment_") {
            set $prerender 1;
        }
        if ($http_user_agent ~ "Prerender") {
            set $prerender 0;
        }
        if ($uri ~* "\.(js|css|xml|less|png|jpg|jpeg|gif|pdf|doc|txt|ico|rss|zip|mp3|rar|exe|wmv|doc|avi|ppt|mpg|mpeg|tif|wav|mov|psd|ai|xls|mp4|m4a|swf|dat|dmg|iso|flv|m4v|torrent|ttf|woff|svg|eot)") {
            set $prerender 0;
        }
        
        #resolve using Google's DNS server to force DNS resolution and prevent caching of IPs
        resolver 8.8.8.8;
 
        if ($prerender = 1) {
            
            #setting prerender as a variable forces DNS resolution since nginx caches IPs and doesnt play well with load balancing
            set $prerender "127.0.0.1:3000"; #Server prerender của các bác 
            rewrite .* /$scheme://$host$request_uri? break;
            proxy_pass http://$prerender;
        }
        if ($prerender = 0) {
            rewrite .* /index.html break;
        }
    }
}</pre>
<p>Nếu sử dụng Apache thì cấu hình theo file sau: <a href="https://gist.github.com/thoop/8072354" target="_blank">https://gist.github.com/thoop/8072354</a></p>
<p>Ruby <a href="https://github.com/prerender/prerender_rails" target="_blank">https://github.com/prerender/prerender_rails</a></p>
<p>Nodejs sử dụng Express <a href="https://github.com/prerender/prerender_rails">https://github.com/prerender/prerender-node</a></p>
<p>Restart lại nginx server xem nào <code>sudo service nginx restart</code></p>
<p>Thành quả</p>
<p>Ok xong hết rồi đấy. Giớ test xem thế nào nhé</p>
<p><strong>Nếu sài HTML5 Mode</strong></p>
<div class="lato">Link bình thường của các bác <code>http://www.example.com/user/1</code></div>
<div class="lato">Link test <code>http://www.example.com/user/1?_escaped_fragment_=</code></div>
<p><strong>Sài chế độ mặc định của Angular</strong></p>
<p>Link bình thường <code>http://www.example.com/#!/user/1</code></p>
<p>Link test <code>http://www.example.com/?_escaped_fragment_=/user/1</code></p>
<p>Nếu thấy view source code thấy toàn là html thì ngon rồi đấy ^^.</p>
<h1>Nhược điểm</h1>
<p>Cách này có nhược điểm là nó render html khá lâu (Phải giả lập trình duyệt truy cập vào app angular của các bác mà). <a href="http://phantomjs.org/" target="_blank">Phantomjs </a>lâu lâu bị crash (mẹ y chang thằng chrome) <img src="/wp-content/uploads/lm-easy-emoticons/emoticons-custom/299e9352fa1be8323aba0ef9c0bdfab5.png" alt="" border="0" hspace="5" />.</p>
<p>Giải pháp là áp dụng cache vào server prerender.io. Các bác có thể tham khảo ở repo <a href="https://github.com/prerender/prerender" target="_blank">https://github.com/prerender/prerender</a> nó có đề cập tới đấy.</p>
<h1>Nói thêm</h1>
<p>Vì mình chỉ mới biết tới angular thôi nên không thể hướng dẫn các bạn áp dụng cho cái framework như <em>meteor</em> hay <em>stack của react</em>,&#8230; các bác có thể thiết lập tùy theo.</p>
		<div class="dw-reactions dw-reactions-post-44" data-type="vote" data-nonce="fe51f46582" data-post="44">
											<div class="dw-reactions-button">
					<span class="dw-reactions-main-button">Like</span>
					<div class="dw-reactions-box">
						<span class="dw-reaction dw-reaction-like"><strong>Like</strong></span>
						<span class="dw-reaction dw-reaction-love"><strong>Love</strong></span>
						<span class="dw-reaction dw-reaction-haha"><strong>Haha</strong></span>
						<span class="dw-reaction dw-reaction-wow"><strong>Wow</strong></span>
						<span class="dw-reaction dw-reaction-sad"><strong>Sad</strong></span>
						<span class="dw-reaction dw-reaction-angry"><strong>Angry</strong></span>
					</div>
				</div>
														<div class="dw-reactions-count">
									</div>
					</div>
		
<div id='jp-relatedposts' class='jp-relatedposts' >
	<h3 class="jp-relatedposts-headline"><em>Có liên quan</em></h3>
</div>
															</div>
							<!-- End of the content -->

							<div class="row">
								<div class="col-xs-12  col-sm-3">
									<!-- Start of comments button -->
									<div class="post-comments">
										<a class="btn  btn-primary" href="/server/seo-angular-ez#comments">2 Comments</a>
									</div>
									<!-- End of comments button -->
								</div>
								<div class="col-xs-12  col-sm-9">
									<!-- Start of social icons -->
									<div class="social-icons">
																			</div>
									<!-- End of social icons -->
								</div>
							</div>
							<div class="row">
								<div class="col-xs-12  push-down-60  col-sm-6">
									<!-- Start of post author -->
									<div class="post-author">
										<h6>Written By</h6>
										<hr>
										<img alt='' src='http://0.gravatar.com/avatar/92d8de5bc1aae1250a02b1f37b92751b?s=90&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/92d8de5bc1aae1250a02b1f37b92751b?s=180&amp;d=mm&amp;r=g 2x' class='avatar avatar-90 photo' height='90' width='90' />										<h5>
											<a href="/author/nlug">Minh Thành</a>
										</h5>
										<div class="post-author__text">
											<p>Tác giả bận chơi Dota 2 rồi lười viết cái dòng này lắm</p>
										</div>
									</div>
									<!-- End of post author -->
								</div>

																<div class="col-xs-12  col-sm-6  push-down-60">

									<!-- Start of post tags -->
									<div class="tags">
										<h6>Tags</h6>
										<hr>
										<a href="/tag/angular" rel="tag">angular</a><a href="/tag/nginx" rel="tag">nginx</a><a href="/tag/prerender" rel="tag">Prerender</a><a href="/tag/seo" rel="tag">SEO</a>									</div>

									<!-- End of post tags -->
								</div>
								
							</div>

							<!-- comments start -->
							
<div class="comments  push-down-30" id="comments">
	<h6>Comments</h6>
	<hr>

	<section class="comments-container">
		
						<h3 class="push-down-30">
				2 Comments			</h3>
			
			
	<div id="comment-48" class="comment even thread-even depth-1 clearfix parent">
		<div class="avatar-container">
			<img alt='' src='http://2.gravatar.com/avatar/ecce1ed125460f5b081be1a1d1ad0422?s=74&#038;d=mm&#038;r=g' srcset='http://2.gravatar.com/avatar/ecce1ed125460f5b081be1a1d1ad0422?s=148&amp;d=mm&amp;r=g 2x' class='avatar avatar-74 photo' height='74' width='74' />		</div>
		<div class="comment-content">
			<div class="comment-inner">
				<cite class="comment-author vcard">
					<a href='https://soundcloud.com/lungu-matei/sets/dupstep' rel='external nofollow' class='url'>Phong</a>				</cite>
				<div class="comment-metadata">
					<time datetime="2016-11-26T22:19:55+00:00">
					 	26/11/2016 at 10:19 Chiều					</time>
					 / <a rel='nofollow' class='comment-reply-link' href='/server/seo-angular-ez?replytocom=48#respond' onclick='return addComment.moveForm( "comment-48", "48", "respond", "44" )' aria-label='Phản hồi đến Phong'>Trả lời</a>									</div>
				<div class="comment-text">
					
					<p>Chào bạn,</p>
<p>Rất cảm ơn về chia sẻ của bạn,<br />
Mình muốn sử dụng pm2 thì làm sao bạn có thể chỉ mình đc ko?</p>
<p>Thân,<br />
Phong.</p>
				</div>
			</div>

	
	<div id="comment-49" class="comment byuser comment-author-nlug bypostauthor odd alt depth-2 clearfix">
		<div class="avatar-container">
			<img alt='' src='http://0.gravatar.com/avatar/92d8de5bc1aae1250a02b1f37b92751b?s=74&#038;d=mm&#038;r=g' srcset='http://0.gravatar.com/avatar/92d8de5bc1aae1250a02b1f37b92751b?s=148&amp;d=mm&amp;r=g 2x' class='avatar avatar-74 photo' height='74' width='74' />		</div>
		<div class="comment-content">
			<div class="comment-inner">
				<cite class="comment-author vcard">
					<a href='/' rel='external nofollow' class='url'>Minh Thành</a>				</cite>
				<div class="comment-metadata">
					<time datetime="2016-11-27T22:11:54+00:00">
					 	27/11/2016 at 10:11 Chiều					</time>
					 / <a rel='nofollow' class='comment-reply-link' href='/server/seo-angular-ez?replytocom=49#respond' onclick='return addComment.moveForm( "comment-49", "49", "respond", "44" )' aria-label='Phản hồi đến Minh Thành'>Trả lời</a>									</div>
				<div class="comment-text">
					
					<p>Hello,<br />
Bạn chỉ cần cài đặt pm2 bằng lệnh <code>npm install pm2 -g</code><br />
Sau đó khởi động app bằng lệnh <code>pm2 start app.js</code> thay vì bình thường mình chạy lệnh <code>node app.js</code> thôi!<br />
Chi tiết <a href="http://pm2.keymetrics.io/" rel="nofollow">http://pm2.keymetrics.io</a></p>
				</div>
			</div>

			</div>
</div><!-- #comment-## -->
		</div>
</div><!-- #comment-## -->

					<hr />
					<h3 class="push-down-25">
						Leave a Comment					</h3>


					<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title"> <small><a rel="nofollow" id="cancel-comment-reply-link" href="/server/seo-angular-ez#respond" style="display:none;">Hủy</a></small></h3>			<form action="/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate>
				<p class="push-down-15"><label for="message">Message <span class="warning">*</span></label><textarea class="form-control form-control--contact form-control--big" id="comment" name="comment" rows="7" aria-required="true" placeholder="Your Comment goes here." required></textarea></p><p class="push-down-15"><label for="author">Name <span class="warning">*</span><input class="form-control  form-control--contact" id="author" name="author" type="text" value="" size="30" aria-required='true' required /></label></p>
<p class="push-down-15"><label for="email">Email <span class="warning">*</span><input class="form-control  form-control--contact" id="email" name="email" type="email" value="" size="30" aria-required='true' required /></label></p>
<p class="push-down-15"><label for="url">Website <span class="warning">*</span><input class="form-control  form-control--contact" id="url" name="url" type="text" value="" size="30" /></label></p>
<p class="form-submit"><input name="submit" type="submit" id="submitWPComment" class="submit" value="Send now" /> <input type='hidden' name='comment_post_ID' value='44' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="045d4a9487" /></p><p style="display: none;"><input type="hidden" id="ak_js" name="ak_js" value="199"/></p>			</form>
			</div><!-- #respond -->
		</section>
</div>							<!-- comments end -->

							
						</div>
					</div>
				</article>

			
	</div>

	
	</div>
</div>


		<footer class="footer">
			<div class="container">
				<div class="row">
									</div>
			</div>
		</footer>
		<footer class="copyrights">
			<div class="container">
				<div class="row">
					<div class="col-xs-12  col-sm-6">
						Readable WP theme &copy; Copyright 2014					</div>
					<div class="col-xs-12  col-sm-6">
						<div class="copyrights--right">
							Made by <a href="http://www.proteusthemes.com/">ProteusThemes</a>						</div>
					</div>
				</div>
			</div>
		</footer>

	</div><!-- /.page-content-container -->

<script type='text/javascript' src='/wp-content/plugins/akismet/_inc/form.js?ver=3.2'></script>
<link rel='stylesheet' id='su-box-shortcodes-css'  href='/wp-content/plugins/shortcodes-ultimate/assets/css/box-shortcodes.css?ver=4.9.9' type='text/css' media='all' />
<script type='text/javascript' src='/wp-content/plugins/contact-form-7/includes/js/jquery.form.min.js?ver=3.51.0-2014.06.20'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var _wpcf7 = {"recaptcha":{"messages":{"empty":"Please verify that you are not a robot."}}};
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/plugins/contact-form-7/includes/js/scripts.js?ver=4.6'></script>
<script type='text/javascript' src='http://s0.wp.com/wp-content/js/devicepx-jetpack.js?ver=201748'></script>
<script type='text/javascript' src='/wp-content/plugins/simple-code-highlighter/js/pretty.js?ver=4.8.3'></script>
<script type='text/javascript' src='/wp-includes/js/underscore.min.js?ver=1.8.3'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var ReadableVars = [];
/* ]]> */
</script>
<script type='text/javascript' src='/wp-content/themes/readable/assets/js/built.js?ver=1.0.0'></script>
<script type='text/javascript' src='/wp-includes/js/comment-reply.min.js?ver=4.8.3'></script>
<script type='text/javascript' src='/wp-includes/js/wp-embed.min.js?ver=4.8.3'></script>
<script type='text/javascript' src='http://stats.wp.com/e-201748.js' async defer></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:4.5',blog:'114130900',post:'44',tz:'7',srv:'cuthanh.com'} ]);
	_stq.push([ 'clickTrackerInit', '114130900', '44' ]);
</script>
<!-- W3TC-include-js-body-end -->
</body>
</html>