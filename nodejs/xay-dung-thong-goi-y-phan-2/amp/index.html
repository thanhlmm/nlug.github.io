<!doctype html>
<html amp lang="vi">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
		<title>Xây dựng hệ thống “Gợi ý…” (Phần 2) - Blog của CuThanh</title>
		<link rel="canonical" href="/nodejs/xay-dung-thong-goi-y-phan-2" />
		<script src="https://cdn.ampproject.org/v0.js" async></script>
			<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather:400,400italic,700,700italic">
		<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
		<script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"BlogPosting","mainEntityOfPage":"http:\/\/cuthanh.com\/nodejs\/xay-dung-thong-goi-y-phan-2","publisher":{"@type":"Organization","name":"Blog c\u1ee7a CuThanh","logo":{"@type":"ImageObject","url":"http:\/\/cuthanh.com\/wp-content\/uploads\/2016\/07\/cropped-logo-icon-lg-32x32.png","height":32,"width":32}},"headline":"X\u00e2y d\u1ef1ng h\u1ec7 th\u1ed1ng \u201cG\u1ee3i \u00fd\u2026\u201d (Ph\u1ea7n 2)","datePublished":"2016-08-07T11:29:36+00:00","dateModified":"2017-01-06T10:58:49+00:00","author":{"@type":"Person","name":"Minh Th\u00e0nh"},"image":{"@type":"ImageObject","url":"http:\/\/cuthanh.com\/wp-content\/uploads\/2016\/08\/batmanalogorithm.jpg","width":1000,"height":641}}</script>
		<style amp-custom>
		/* Generic WP styling */

.alignright {
	float: right;
}

.alignleft {
	float: left;
}

.aligncenter {
	display: block;
	margin-left: auto;
	margin-right: auto;
}

.amp-wp-enforced-sizes {
	/** Our sizes fallback is 100vw, and we have a padding on the container; the max-width here prevents the element from overflowing. **/
	max-width: 100%;
	margin: 0 auto;
}

.amp-wp-unknown-size img {
	/** Worst case scenario when we can't figure out dimensions for an image. **/
	/** Force the image into a box of fixed dimensions and use object-fit to scale. **/
	object-fit: contain;
}

/* Template Styles */

.amp-wp-content,
.amp-wp-title-bar div {
		margin: 0 auto;
	max-width: 700px;
	}

html {
	background: #0a89c0;
}

body {
	background: #fff;
	color: #353535;
	font-family: 'Merriweather', 'Times New Roman', Times, Serif;
	font-weight: 300;
	line-height: 1.75em;
}

p,
ol,
ul,
figure {
	margin: 0 0 1em;
	padding: 0;
}

a,
a:visited {
	color: #0a89c0;
}

a:hover,
a:active,
a:focus {
	color: #353535;
}

/* Quotes */

blockquote {
	color: #353535;
	background: rgba(127,127,127,.125);
	border-left: 2px solid #0a89c0;
	margin: 8px 0 24px 0;
	padding: 16px;
}

blockquote p:last-child {
	margin-bottom: 0;
}

/* UI Fonts */

.amp-wp-meta,
.amp-wp-header div,
.amp-wp-title,
.wp-caption-text,
.amp-wp-tax-category,
.amp-wp-tax-tag,
.amp-wp-comments-link,
.amp-wp-footer p,
.back-to-top {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen-Sans", "Ubuntu", "Cantarell", "Helvetica Neue", sans-serif;
}

/* Header */

.amp-wp-header {
	background-color: #0a89c0;
}

.amp-wp-header div {
	color: #fff;
	font-size: 1em;
	font-weight: 400;
	margin: 0 auto;
	max-width: calc(840px - 32px);
	padding: .875em 16px;
	position: relative;
}

.amp-wp-header a {
	color: #fff;
	text-decoration: none;
}

/* Site Icon */

.amp-wp-header .amp-wp-site-icon {
	/** site icon is 32px **/
	background-color: #fff;
	border: 1px solid #fff;
	border-radius: 50%;
	position: absolute;
	right: 18px;
	top: 10px;
}

/* Article */

.amp-wp-article {
	color: #353535;
	font-weight: 400;
	margin: 1.5em auto;
	max-width: 840px;
	overflow-wrap: break-word;
	word-wrap: break-word;
}

/* Article Header */

.amp-wp-article-header {
	align-items: center;
	align-content: stretch;
	display: flex;
	flex-wrap: wrap;
	justify-content: space-between;
	margin: 1.5em 16px 1.5em;
}

.amp-wp-title {
	color: #353535;
	display: block;
	flex: 1 0 100%;
	font-weight: 900;
	margin: 0 0 .625em;
	width: 100%;
}

/* Article Meta */

.amp-wp-meta {
	color: #696969;
	display: inline-block;
	flex: 2 1 50%;
	font-size: .875em;
	line-height: 1.5em;
	margin: 0;
	padding: 0;
}

.amp-wp-article-header .amp-wp-meta:last-of-type {
	text-align: right;
}

.amp-wp-article-header .amp-wp-meta:first-of-type {
	text-align: left;
}

.amp-wp-byline amp-img,
.amp-wp-byline .amp-wp-author {
	display: inline-block;
	vertical-align: middle;
}

.amp-wp-byline amp-img {
	border: 1px solid #0a89c0;
	border-radius: 50%;
	position: relative;
	margin-right: 6px;
}

.amp-wp-posted-on {
	text-align: right;
}

/* Featured image */

.amp-wp-article-featured-image {
	margin: 0 0 1em;
}
.amp-wp-article-featured-image amp-img {
	margin: 0 auto;
}
.amp-wp-article-featured-image.wp-caption .wp-caption-text {
	margin: 0 18px;
}

/* Article Content */

.amp-wp-article-content {
	margin: 0 16px;
}

.amp-wp-article-content ul,
.amp-wp-article-content ol {
	margin-left: 1em;
}

.amp-wp-article-content amp-img {
	margin: 0 auto;
}

.amp-wp-article-content amp-img.alignright {
	margin: 0 0 1em 16px;
}

.amp-wp-article-content amp-img.alignleft {
	margin: 0 16px 1em 0;
}

/* Captions */

.wp-caption {
	padding: 0;
}

.wp-caption.alignleft {
	margin-right: 16px;
}

.wp-caption.alignright {
	margin-left: 16px;
}

.wp-caption .wp-caption-text {
	border-bottom: 1px solid #c2c2c2;
	color: #696969;
	font-size: .875em;
	line-height: 1.5em;
	margin: 0;
	padding: .66em 10px .75em;
}

/* AMP Media */

amp-carousel {
	background: #c2c2c2;
	margin: 0 -16px 1.5em;
}
amp-iframe,
amp-youtube,
amp-instagram,
amp-vine {
	background: #c2c2c2;
	margin: 0 -16px 1.5em;
}

.amp-wp-article-content amp-carousel amp-img {
	border: none;
}

amp-carousel > amp-img > img {
	object-fit: contain;
}

.amp-wp-iframe-placeholder {
	background: #c2c2c2 url( /wp-content/plugins/amp/assets/images/placeholder-icon.png) no-repeat center 40%;
	background-size: 48px 48px;
	min-height: 48px;
}

/* Article Footer Meta */

.amp-wp-article-footer .amp-wp-meta {
	display: block;
}

.amp-wp-tax-category,
.amp-wp-tax-tag {
	color: #696969;
	font-size: .875em;
	line-height: 1.5em;
	margin: 1.5em 16px;
}

.amp-wp-comments-link {
	color: #696969;
	font-size: .875em;
	line-height: 1.5em;
	text-align: center;
	margin: 2.25em 0 1.5em;
}

.amp-wp-comments-link a {
	border-style: solid;
	border-color: #c2c2c2;
	border-width: 1px 1px 2px;
	border-radius: 4px;
	background-color: transparent;
	color: #0a89c0;
	cursor: pointer;
	display: block;
	font-size: 14px;
	font-weight: 600;
	line-height: 18px;
	margin: 0 auto;
	max-width: 200px;
	padding: 11px 16px;
	text-decoration: none;
	width: 50%;
	-webkit-transition: background-color 0.2s ease;
			transition: background-color 0.2s ease;
}

/* AMP Footer */

.amp-wp-footer {
	border-top: 1px solid #c2c2c2;
	margin: calc(1.5em - 1px) 0 0;
}

.amp-wp-footer div {
	margin: 0 auto;
	max-width: calc(840px - 32px);
	padding: 1.25em 16px 1.25em;
	position: relative;
}

.amp-wp-footer h2 {
	font-size: 1em;
	line-height: 1.375em;
	margin: 0 0 .5em;
}

.amp-wp-footer p {
	color: #696969;
	font-size: .8em;
	line-height: 1.5em;
	margin: 0 85px 0 0;
}

.amp-wp-footer a {
	text-decoration: none;
}

.back-to-top {
	bottom: 1.275em;
	font-size: .8em;
	font-weight: 600;
	line-height: 2em;
	position: absolute;
	right: 16px;
}
		/* Inline styles */
.amp-wp-inline-2f0158eb062d1ac553a7edcb8a744628{text-align:center;}	</style>
</head>

<body class="">

<header id="#top" class="amp-wp-header">
	<div>
		<a href="/">
							<amp-img src="/wp-content/uploads/2016/07/cropped-logo-icon-lg-32x32.png" width="32" height="32" class="amp-wp-site-icon"></amp-img>
						Blog của CuThanh		</a>
	</div>
</header>

<article class="amp-wp-article">

	<header class="amp-wp-article-header">
		<h1 class="amp-wp-title">Xây dựng hệ thống “Gợi ý…” (Phần 2)</h1>
				<div class="amp-wp-meta amp-wp-byline">
					<amp-img src="http://0.gravatar.com/avatar/92d8de5bc1aae1250a02b1f37b92751b?s=24&#038;d=mm&#038;r=g" width="24" height="24" layout="fixed"></amp-img>
				<span class="amp-wp-author author vcard">Minh Thành</span>
	</div>
<div class="amp-wp-meta amp-wp-posted-on">
	<time datetime="2016-08-07T11:29:36+00:00">
		1 năm ago	</time>
</div>
	</header>

	
	<div class="amp-wp-article-content">
		<p>Tiếp tục loạt bài nào…</p>
<p>Phần 1: <a href="/nodejs/xay-dung-he-thong-goi-y-phan-1" target="_blank">http://cuthanh.com/nodejs/xay-dung-he-thong-goi-y-phan-1</a></p>
<h1>Demo</h1>
<p class="amp-wp-inline-2f0158eb062d1ac553a7edcb8a744628"><a href="http://demo.cuthanh.com/professorx-client/" target="_blank">http://demo.cuthanh.com/professorx-client/</a></p>
<h1>Ý tưởng</h1>
<p>Đâu tiên phải xem ý tưởng mình gợi ý phòng cho giao sư như thế nào đã. Với hệ thống gợi ý như thế này, thì đâu tiên phải xem những thằng nào giống giống nhau đã.</p>
<p><strong>Ví dụ</strong></p>
<p><em>Giáo sư X thích Mystique và bác Sói.</em></p>
<p><em>Jean Gray cũng thích Mystique và Sói, ngoài ra, còn cặp với Scott nữa <amp-img class="emoticons amp-wp-enforced-sizes" src="/wp-content/uploads/lm-easy-emoticons/emoticons-custom/9ea612b30dc12f06939a01c96f151dc3.png" alt="" width="32" height="32" sizes="(min-width: 32px) 32px, 100vw"></amp-img></em></p>
<p>Theo như tính chất bắc cầu thì… tính cách của giáo sư X và Jean Gray là khá giống nhau nên suy ra Giáo sư X cũng khá thích anh Scott đấy <amp-img class="emoticons amp-wp-enforced-sizes" src="/wp-content/uploads/lm-easy-emoticons/emoticons-custom/aa9d71a4e03ce5ef22cd34781a848aae.png" alt="" width="32" height="32" sizes="(min-width: 32px) 32px, 100vw"></amp-img></p>
<p><strong>Ví dụ 2</strong></p>
<p><em>Việc gợi ý này cũng khá giống hệ thống gợi ý kết bạn trên facebook</em></p>
<p>Bạn và thằng A có khá nhiều bạn chung. Nên facebook sẽ suy nghĩ chắc mấy thằng thằng A quen thì có lẽ bạn cũng quen. Tuy nhiên hệ thống gợi ý của nó cũng có nhiều yếu tố tác động khác như <em>nơi ở, tuổi tác, giới tính,…</em> nữa.</p>
<p>Vậy ý tưởng cho hệ thống gợi ý mình muốn nói là: Nó sẽ tìm xem những thằng nào có hành vi, tính cách giống bạn nhất, sau đó sẽ lấy sự khác biệt giữa 2 người rồi gợi ý cho bạn.</p>
<h1>Thuật toán</h1>
<p>Có ý tưởng rồi, bây giờ phải truyền đạt cho máy tính đã, nó không khôn tới mức bạn nói lại ý tưởng là nó hiểu được đâu <amp-img class="emoticons amp-wp-enforced-sizes" src="/wp-content/uploads/lm-easy-emoticons/emoticons-custom/3d4972d841d550c8b185c81dca71230b.png" alt="" width="32" height="32" sizes="(min-width: 32px) 32px, 100vw"></amp-img>. Vì vậy phải hiện thực lại mô hình của chúng ta cho máy tính hiểu. Em có học môn này trên trường được gọi là Mô hình hóa toán học, thực sự thì em đi học, qua môn cũng chưa thấm nhuần được tí kiến thức nào cả <amp-img class="emoticons amp-wp-enforced-sizes" src="/wp-content/uploads/lm-easy-emoticons/emoticons-custom/1a5e76df614241c5f0257f9bb3d73b19.png" alt="" width="32" height="32" sizes="(min-width: 32px) 32px, 100vw"></amp-img>.</p>
<p><amp-img class="aligncenter size-full wp-image-445 amp-wp-enforced-sizes" src="/wp-content/uploads/2016/08/batmanalogorithm.jpg" alt="batmanalogorithm" width="1000" height="641" srcset="/wp-content/uploads/2016/08/batmanalogorithm.jpg 1000w, /wp-content/uploads/2016/08/batmanalogorithm-300x192.jpg 300w, /wp-content/uploads/2016/08/batmanalogorithm-768x492.jpg 768w" sizes="(min-width: 700px) 700px, 100vw"></amp-img></p>
<p class="amp-wp-inline-2f0158eb062d1ac553a7edcb8a744628"><em>Quả hình Batman nhằm mục đích gây war</em></p>
<p> </p>
<p>Ta sẽ nói đến <strong>toán tập hợp (Sets)</strong> nhé. Cái này học từ lớp 6 rồi.</p>
<p>Gọi tập hợp những người hợp tính với người thứ 1 là <code>U1</code>, người thứ 2 là <code>U2</code></p>
<p><strong>Ví dụ</strong></p>
<p><em>Người thứ 1 là Bác X. Suy ra <code>U1 = {mystique, sói}</code></em></p>
<p><em>Người thứ 2 là Jean. Suy ra <code>U2 = {mystique, sói, scott}</code></em></p>
<p>Với kiến thức lớp 6, ta có:</p>
<p>Những người cả U1 và U2 đều thích sẽ là <code>U1 ∩ U2</code></p>
<p>Tất cả những người cả 2 đều thích sẽ là <code>U1 ∪ U2</code></p>
<p><strong>Ví dụ</strong></p>
<p><em><code>U1 ∩ U2 = {mystique, sói}</code></em></p>
<p><em><code>U1 ∪ U2 = {mystique, sói, scott}</code></em></p>
<p>Từ đó ta có công thức tính xem <strong>mức độ giống nhau của <code>U1</code> và <code>U2</code></strong> sẽ là</p>
<p class="amp-wp-inline-2f0158eb062d1ac553a7edcb8a744628"><code>|U1 ∩ U2| / |U1 ∪ U2|</code></p>
<p>Nhìn công thức trên thì nó sẽ chạy từ 0 đến 1. Nếu giá trị là 1 thì <code>U1</code> và <code>U2</code> hoàn toàn có sở thích giống nhau. Ngược lại nếu giá trị bằng 0 thì chắc… 2 thằng này không thể chung sống với nhau được <amp-img class="emoticons amp-wp-enforced-sizes" src="/wp-content/uploads/lm-easy-emoticons/emoticons-custom/6f80ebee4d029216826f7c9af17e0a24.png" alt="" width="32" height="32" sizes="(min-width: 32px) 32px, 100vw"></amp-img>. BTW, công thức này được biết tới với tên gọi là “<em>coefficient de communauté</em>” của bác Paul Jaccard, không phải của em đâu <amp-img class="emoticons amp-wp-enforced-sizes" src="/wp-content/uploads/lm-easy-emoticons/emoticons-custom/6ef225eb223b6df4166606abf92bde83.png" alt="" width="32" height="32" sizes="(min-width: 32px) 32px, 100vw"></amp-img>.</p>
<p><strong>Ví dụ</strong></p>
<p><em>Mức độ thích nhau của Bác X và Jean sẽ là: <code>2 / 3 = 0.6666666666666666666666666666666666666666666666666666...</code> <amp-img class="emoticons amp-wp-enforced-sizes" src="/wp-content/uploads/lm-easy-emoticons/emoticons-custom/1a5e76df614241c5f0257f9bb3d73b19.png" alt="" width="32" height="32" sizes="(min-width: 32px) 32px, 100vw"></amp-img></em></p>
<p>Tới đây chắc các bác cũng hình dung chúng ta sẽ  có<strong> công thức gợi ý </strong>áp dùng cho bác X là</p>
<p class="amp-wp-inline-2f0158eb062d1ac553a7edcb8a744628"><code>U2 \ U1 = {scott}</code> (Phép trừ 2 tập hợp đấy các bác)</p>
<p>Theo em thì vậy đã Ok rồi. Chũng ta sẽ gợi ý tất cả những người hợp với Thanh niên X nào đấy theo công thức trên và<strong> sắp xếp theo mức độ giống nhau giữa 2 người.</strong></p>
<p>Tuy nhiên, trong bài viết mình tham khảo nó có cách tính <strong>mức độ Thanh niên X nào đây có thích Thanh niên K</strong> nào không theo công thức</p>
<p class="amp-wp-inline-2f0158eb062d1ac553a7edcb8a744628"><code>P(X, K) = Z / M</code></p>
<p>Trong đó <code>P(X, K)</code> là công thức tính mức điểm Thanh niên X có thích Thanh niên K. <strong><code>Z</code></strong> là <strong>tổng điểm giống nhau của X với tất cả mọi người trong đội X-Men cũng “thả tim” thằng K</strong>. <strong><code>M</code></strong> là <strong>tổng số người thích K trong đội X-Men</strong>. Và tất nhiên, giá trị của <code>P(X, K)</code> cũng chạy từ 0 tới 1.</p>
<p><strong>Ví dụ</strong></p>
<p><em>Tính xem Bác X có hợp với Scott không bằng công thức trên</em></p>
<p><em>Giả sự có thêm một nhân vật nữa là Storm có <code>U3 = {sói, scott}</code></em></p>
<p><em>Mức độ giống nhau giữa Bác X và Storm sẽ là </em></p>
<p class="amp-wp-inline-2f0158eb062d1ac553a7edcb8a744628"><em><code>|U1 ∩ U3| / |U1 ∪ U3| = 1/3 = 0,333333333...</code></em></p>
<p><em>Và trong ba nhân vật xét đến ở đây có 2 người thích Scott. Nên <code>M = 2</code></em></p>
<p class="amp-wp-inline-2f0158eb062d1ac553a7edcb8a744628"><em><code>P(bác X, scott) = (0,333 + 0, 666) / 2 = 0.5</code></em></p>
<p>Em đã nói ở phần 1 là mình vừa đọc tài liệu, vừa xây dựng thử và vừa viết bài cho các bác nên em không biết là cách của bài viết em tham khảo hay cách mà em nhìn thấy được, cái nào tốt hơn <amp-img class="emoticons amp-wp-enforced-sizes" src="/wp-content/uploads/lm-easy-emoticons/emoticons-custom/080861c0c12b3c87e3cb77a2d91754b8.png" alt="" width="32" height="32" sizes="(min-width: 32px) 32px, 100vw"></amp-img>. Nên em sẽ xây dựng theo cả 2 cách đến cuối cùng để xem cái nào tốt hơn nhé!</p>
<p>Link tham khảo: <a href="https://www.toptal.com/algorithms/predicting-likes-inside-a-simple-recommendation-engine" target="_blank">https://www.toptal.com/algorithms/predicting-likes-inside-a-simple-recommendation-engine</a></p>
<h1>Kết luận</h1>
<p>Nếu đã hiểu thuật toán thì các bạn muốn xây dựng trên ngôn ngữ nào cũng được nên nếu các học ngôn ngữ khác thì thử làm theo thuật toán này xem sao nhé. Cùng xây dựng thử xem kết quá có giống em không.</p>
<p>Phần 3: <a href="/nodejs/xay-dung-thong-goi-y-phan-3">Xây dựng hệ thống “Gợi ý…” (Phần 3)</a></p>
	</div>

	<footer class="amp-wp-article-footer">
			<div class="amp-wp-meta amp-wp-tax-category">
		Categories: <a href="/category/nodejs" rel="category tag">NodeJS</a>	</div>

	<div class="amp-wp-meta amp-wp-tax-tag">
		Tags: <a href="/tag/cong-thuc" rel="tag">công thức</a>, <a href="/tag/goi-y" rel="tag">gợi ý</a>, <a href="/tag/he-thong" rel="tag">hệ thống</a>, <a href="/tag/thuat-toan" rel="tag">thuật toán</a>, <a href="/tag/xay-dung" rel="tag">xây dựng</a>	</div>
		<div class="amp-wp-meta amp-wp-comments-link">
		<a href="/nodejs/xay-dung-thong-goi-y-phan-2#comments">
			Leave a Comment		</a>
	</div>
	</footer>

</article>

<footer class="amp-wp-footer">
	<div>
		<h2>Blog của CuThanh</h2>
		<p>
			<a href="https://wordpress.org/">Powered by WordPress</a>
		</p>
		<a href="#top" class="back-to-top">Back to top</a>
	</div>
</footer>

	<amp-pixel src="https://pixel.wp.com/g.gif?v=ext&#038;j=1%3A4.5&#038;blog=114130900&#038;post=435&#038;tz=7&#038;srv=cuthanh.com&#038;host=cuthanh.com&#038;rand=RANDOM&#038;ref=DOCUMENT_REFERRER"></amp-pixel>
	
</body>
</html>
